"use strict";(globalThis.webpackChunkgoogle_listings_and_ads=globalThis.webpackChunkgoogle_listings_and_ads||[]).push([[663],{923:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(1609),l=n(6474),o=n(6476),s=n(7723),c=n(7539),i=n(2455),r=n(6473);const u=()=>(0,a.createElement)(c.A,{title:(0,s.__)("Set up your campaign","google-listings-and-ads"),helpButton:(0,a.createElement)(i.A,{eventContext:"setup-ads"}),backHref:(0,o.getNewPath)({},"/google/dashboard"),onBackButtonClick:()=>{(0,r.ce)("gla_setup_ads",{triggered_by:"back-button",action:"leave"})}});var g=n(8846),d=n(6087),m=n(7892),p=n(9370),_=n(3164),A=n(3704),h=n(9826),y=n(8678),E=n(458),b=n(3632),C=n(1378),k=n(8e3),v=n(3741),f=n(8242),S=n(1351);const w=e=>{const{onContinue:t=()=>{}}=e,{google:n}=(0,k.A)(),{googleAdsAccount:l}=(0,C.A)(),{isLinkedToMerchantCenter:o}=(0,S.A)();if(!n||"yes"===n.active&&!l)return(0,a.createElement)(v.A,null);const c=!o;return(0,a.createElement)(p.A,null,(0,a.createElement)(_.A,{title:(0,s.__)("Set up your accounts","google-listings-and-ads"),description:(0,s.__)("Connect your Google account and your Google Ads account to set up a Performance Max campaign.","google-listings-and-ads")}),(0,a.createElement)(f.A,{title:(0,s.__)("Connect accounts","google-listings-and-ads"),description:(0,s.__)("Any campaigns created through this app will appear in your Google Ads account. You will be billed directly through Google.","google-listings-and-ads")},(0,a.createElement)(y.Az,{googleAccount:n,hideAccountSwitch:!0,helper:(0,s.__)("This Google account is connected to your storeâ€™s product feed.","google-listings-and-ads")}),(0,a.createElement)(E.Ay,null),(0,a.createElement)(b.A,null)),(0,a.createElement)(h.A,null,(0,a.createElement)(A.A,null,(0,a.createElement)(m.A,{isPrimary:!0,disabled:c,onClick:t},(0,s.__)("Continue","google-listings-and-ads")))))};var B=n(7541),T=n(5992),G=n(1042),P=n(8331),x=n(6893),F=n(1968),R=n(1650),N=n(5847),V=n(8519),D=n(6960),M=n(3323),Y=n(3905);const{APPROVED:j}=Y.CX;function z(){const{isDirty:e,adapter:t}=(0,D.h5)(),n=e&&!t.isSubmitted;return(0,R.A)((0,s.__)("You have unsaved campaign data. Are you sure you want to leave?","google-listings-and-ads"),n),null}const H=()=>{const e=(0,d.useRef)(),{billingStatus:t}=(0,x.A)(),[n,l]=(0,V.A)(),c=(0,F.A)(),{data:i}=(0,N.A)(),u=(0,B.A)(r.eB);return i?(0,a.createElement)(M.A,{countryCodes:i,onSubmit:e=>{const{level:t,dailyBudget:a}=e;(0,r.ce)("gla_launch_paid_campaign_button_click",u({level:t,audiences:i.join(","),budget:a})),n(a,i,(()=>{const e=(0,o.getNewPath)({guide:"campaign-creation-success"},"/google/dashboard");window.location.href=c+e}))}},(0,a.createElement)(z,null),(0,a.createElement)(G.A,{headerTitle:(0,s.__)("Create your campaign","google-listings-and-ads"),context:"setup-ads",continueButton:n=>(0,a.createElement)(m.A,{variant:"primary",text:(0,s.__)("Create campaign","google-listings-and-ads"),disabled:!n.isValidForm||t?.status!==j,loading:l,onClick:()=>{e.current.resolve(n.values.dailyBudget).then((e=>{null===e?n.handleSubmit():Number.isFinite(e)&&n.setValues({level:"custom",amount:e})}))}})}),(0,a.createElement)(P.A,{ref:e,countryCodes:i})):(0,a.createElement)(v.A,null)},L=()=>{const[e,t]=(0,d.useState)("1"),n=(0,d.useRef)(null),{hasFinishedResolution:l,hasGoogleAdsConnection:o}=(0,C.A)(),{hasAccess:c,hasFinishedResolution:i,step:u}=(0,T.A)();if((0,B.A)(r.T1,{context:r.lr,step:e}),null===n.current){if(!l||!i)return(0,a.createElement)(v.A,null);const e=o&&!0===c&&"conversion_action"!==u;n.current=e}const m=n=>{n<e&&((0,r.T)("gla_setup_ads",n),t(n))};let p=[{key:"1",label:(0,s.__)("Set up your accounts","google-listings-and-ads"),content:(0,a.createElement)(w,{onContinue:()=>{(()=>{const n=e;(0,r.dQ)("gla_setup_ads",n,"2"),t("2")})()}}),onClick:m},{key:"2",label:(0,s.__)("Create your campaign","google-listings-and-ads"),content:(0,a.createElement)(H,null),onClick:m}];return n.current&&(p.shift(),p=p.map(((e,t)=>({...e,key:(t+1).toString()})))),(0,a.createElement)(g.Stepper,{className:"gla-setup-stepper",currentStep:e,steps:p})},O=()=>((0,l.A)("full-page"),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(u,null),(0,a.createElement)(L,null)))}}]);